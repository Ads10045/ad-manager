<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ads-AI Multi-Size Catalog Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        .banner-preview-label {
            position: absolute;
            top: -10px;
            left: 20px;
            background: #0f172a;
            color: white;
            padding: 4px 12px;
            border-radius: 999px;
            font-size: 10px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            z-index: 50;
        }
    </style>
</head>
<body class="bg-slate-50 p-8 flex flex-col items-center min-h-screen font-sans pb-20">

    <div class="max-w-[1300px] w-full">
        <header class="mb-12 text-center">
            <h1 class="text-5xl font-black text-slate-900 mb-4 uppercase tracking-tighter italic">Multi-Size Catalog Engine</h1>
            <p class="text-slate-500 font-medium">Test de rendu simultanÃ© sur diffÃ©rents formats (Premium, Vertical, Grid)</p>
        </header>

        <!-- MAIN LAYOUT GRID -->
        <div class="space-y-16">
            
            <!-- 1. FULL PREMIUM BANNER (1200x600) -->
            <section class="relative">
                <div class="banner-preview-label">Format: Premium Wide (1200x600)</div>
                <div class="bg-white p-4 rounded-[2.5rem] shadow-xl border border-slate-100 overflow-hidden">
                    <div id="banner-main" class="ads-ai-banner" data-path="catalog/product-full-detail.html">
                        <div class="h-[600px] flex items-center justify-center bg-slate-50 rounded-[2rem] animate-pulse">
                            <span class="text-slate-300 font-black uppercase text-xs tracking-widest">Loading Main Banner...</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 2. SIDE BY SIDE : VERTICAL & CYBERPUNK -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                
                <!-- Format Vertical -->
                <section class="relative">
                    <div class="banner-preview-label">Format: Vertical Card (400x600)</div>
                    <div class="bg-white p-4 rounded-[2.5rem] shadow-xl border border-slate-100 overflow-hidden flex justify-center">
                        <div id="banner-vertical" class="ads-ai-banner" data-path="catalog/product-card-vertical.html">
                            <div class="w-[400px] h-[600px] flex items-center justify-center bg-slate-50 rounded-[2rem] animate-pulse">
                                <span class="text-slate-300 font-black uppercase text-xs tracking-widest">Loading Card...</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Format Promotion Flash -->
                <section class="relative">
                    <div class="banner-preview-label">Format: Pro Promotion (Landscape)</div>
                    <div class="bg-white p-4 rounded-[2.5rem] shadow-xl border border-slate-100 overflow-hidden">
                        <div id="banner-flash" class="ads-ai-banner" data-path="promotions/flash-sale-banner.html">
                            <div class="h-[600px] flex items-center justify-center bg-slate-50 rounded-[2rem] animate-pulse">
                                <span class="text-slate-300 font-black uppercase text-xs tracking-widest">Loading Promo...</span>
                            </div>
                        </div>
                    </div>
                </section>

            </div>

        </div>

        <footer class="mt-20 flex flex-col items-center gap-6">
            <button onclick="window.location.reload()" class="bg-slate-900 text-white px-16 py-6 rounded-3xl font-black uppercase text-sm tracking-[0.3em] shadow-2xl hover:scale-105 active:scale-95 transition-all">
                ðŸ”„ ACTUALISER TOUT LE CATALOGUE
            </button>
            <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Toutes les tailles sont synchronisÃ©es sur le mÃªme produit alÃ©atoire</p>
        </footer>
    </div>

    <script>
        const sampleProducts = [
            {
                id: "DISP-27-OLED",
                name: "Monitor OLED 27\" Pro Art",
                description: "Le summum de la prÃ©cision couleur. Dalle OLED 4K, couverture Adobe RGB 100% et calibration usine pour les crÃ©atifs les plus exigeants.",
                price: "1290.00",
                supplierPrice: "850.00",
                margin: "34",
                imageUrl: "https://images.unsplash.com/photo-1527443224154-c4a3942d3acf?q=80&w=2070&auto=format&fit=crop",
                category: "Hardware",
                supplier: "VisionTech France",
                stock: "12",
                promoExpiry: "Dans 12 heures",
                chantierTitle: "Monitor OLED 27\"",
                discountValue: "40%"
            },
            {
                id: "LAP-ST-14",
                name: "Station Travail Mobile 14\"",
                description: "Puissance brute dans un format compact. Processeur 16 cÅ“urs, 64Go de RAM et carte graphique professionnelle pour vos rendus nomades.",
                price: "2499.00",
                supplierPrice: "1800.00",
                margin: "28",
                imageUrl: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?q=80&w=2071&auto=format&fit=crop",
                category: "Laptops",
                supplier: "NouveauMonde IT",
                stock: "5",
                promoExpiry: "Termine ce soir",
                chantierTitle: "Workstation Mobile",
                discountValue: "20%"
            },
            {
                id: "CAM-4K-LIVE",
                name: "CamÃ©ra Studio 4K Stream",
                description: "QualitÃ© cinÃ©ma pour vos lives. Capteur plein format, autofocus ultra-rapide et sortie Clean HDMI pour une production sans compromis.",
                price: "849.00",
                supplierPrice: "610.00",
                margin: "28",
                imageUrl: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?q=80&w=1964&auto=format&fit=crop",
                category: "Video",
                supplier: "OpticStream",
                stock: "28",
                promoExpiry: "Fin d'offre flash",
                chantierTitle: "Studio Camera 4K",
                discountValue: "50%"
            }
        ];

        const randomProduct = sampleProducts[Math.floor(Math.random() * sampleProducts.length)];
        
        // On injecte les donnÃ©es dans TOUS les containers ads-ai-banner
        $('.ads-ai-banner').each(function() {
            const $banner = $(this);
            Object.keys(randomProduct).forEach(key => {
                $banner.attr(`data-${key.toLowerCase()}`, randomProduct[key]);
                $banner.data(key, randomProduct[key]);
            });
        });
    </script>

    <!-- Injecteur Universel (Auto-mapping) -->
    <script src="./banner-injector.js"></script>
</body>
</html>
